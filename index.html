<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Heart Slides</title>
<style>
  * {margin:0; padding:0; box-sizing:border-box;}
  html, body {width:100%; height:100%; overflow:hidden; font-family:sans-serif;}
  .slide {
    position:absolute;
    width:100%; height:100%;
    background-color:#ffc0cb;
    display:flex; justify-content:center; align-items:center;
    flex-direction:column;
    overflow:hidden;
    transition: opacity 0.5s ease;
  }
  .hidden {opacity:0; pointer-events:none;}

  .heart {
    position:absolute;
    color:red;
    user-select:none;
    pointer-events:none;
    font-size:30px;
    opacity:0.8;
    transition: transform 0.1s linear;
  }

  .center-image {
    width:150px; height:150px;
    object-fit:contain;
    display:none;
    animation: pop 0.8s ease forwards;
  }

  @keyframes pop {
    0% {transform: scale(0);}
    100% {transform: scale(1);}
  }

  /* Last slide scrollable */
  .typewriter-text {
    font-size:18px; color:#000;
    width:90%; max-width:400px; margin-top:20px;
    overflow-wrap: break-word; white-space: pre-wrap;
    text-align:left;
  }
  .slide3-content {
    position: relative;
    width:100%; height:100%;
    overflow-y:auto;
    padding:20px;
    display:flex; flex-direction:column;
    align-items:center;
  }

  .yours {
    margin-top:20px; font-size:20px;
    color:#ff1493; display:none;
  }
</style>
</head>
<body>

<!-- Slide 1 -->
<div class="slide" id="slide1">
  <img src="gift.png" class="center-image" id="slide1-image">
</div>

<!-- Slide 2 -->
<div class="slide hidden" id="slide2">
  <img src="letter.png" class="center-image" id="slide2-image">
</div>

<!-- Slide 3 -->
<div class="slide hidden" id="slide3">
  <div class="slide3-content">
    <div class="typewriter-text" id="typewriter"></div>
    <div class="yours">-YOURS SAMRIDHIðŸ’—</div>
  </div>
</div>

<script>
const slides = [document.getElementById('slide1'), document.getElementById('slide2'), document.getElementById('slide3')];
let currentSlide = 0;

// Slide 1 & 2: hearts animation + image pop
function animateHearts(slide, imageId, callback){
  const positions = [
    {x:'-40vw',y:'-40vh'},{x:'40vw',y:'-40vh'},
    {x:'-40vw',y:'40vh'},{x:'40vw',y:'40vh'},
    {x:'0',y:'-45vh'},{x:'0',y:'45vh'},
    {x:'-45vw',y:'0'},{x:'45vw',y:'0'}
  ];
  positions.forEach((pos,i)=>{
    const h=document.createElement('div');
    h.className='heart'; h.textContent='â¤ï¸';
    h.style.left='50%'; h.style.top='50%';
    slide.appendChild(h);
    setTimeout(()=>{ h.style.transform=`translate(${pos.x},${pos.y}) scale(1.2)`; }, i*150);
  });
  setTimeout(()=>{
    document.getElementById(imageId).style.display='block';
    if(callback) callback();
  }, positions.length*150 + 800);
}

// Slide 3: typewriter + enhanced moving hearts
function typeWriter(text){
  const el=document.getElementById('typewriter');
  let i=0;
  const interval=setInterval(()=>{
    if(i<text.length){
      el.textContent+=text[i];
      i++;
      el.parentElement.scrollTop = el.parentElement.scrollHeight; // auto scroll
    }else{
      clearInterval(interval);
      document.querySelector('.yours').style.display='block';
    }
  },50);
}

let heartIntervals=[];
function createMovingHearts(count){
  const slide3=document.getElementById('slide3');
  for(let i=0;i<count;i++){
    const h=document.createElement('div');
    h.className='heart'; h.textContent='â¤ï¸';
    h.style.left=Math.random()*100+'vw';
    h.style.top=Math.random()*100+'vh';
    h.style.fontSize=(20+Math.random()*30)+'px';
    h.style.opacity=(0.5 + Math.random()*0.5);
    slide3.appendChild(h);

    let angle=Math.random()*2*Math.PI;
    let speed=0.5 + Math.random()*1.5;
    const interval=setInterval(()=>{
      let x=parseFloat(h.style.left);
      let y=parseFloat(h.style.top);
      x+=Math.cos(angle)*speed;
      y+=Math.sin(angle)*speed;
      // bounce off edges
      if(x<0 || x>100) angle = Math.PI - angle;
      if(y<0 || y>100) angle = -angle;
      x=Math.max(0, Math.min(100, x));
      y=Math.max(0, Math.min(100, y));
      h.style.left=x+'vw';
      h.style.top=y+'vh';
    },30);
    heartIntervals.push(interval);
  }
}
function stopHearts(){
  heartIntervals.forEach(i=>clearInterval(i));
}

// Next slide logic
function nextSlide(){
  slides[currentSlide].classList.add('hidden');
  currentSlide++;
  if(currentSlide<slides.length){
    slides[currentSlide].classList.remove('hidden');

    if(currentSlide===0) animateHearts(slides[0],'slide1-image');
    if(currentSlide===1) animateHearts(slides[1],'slide2-image');
    if(currentSlide===2){
      createMovingHearts(50); // more hearts
      typeWriter("Kya likhu yrrðŸ¥¹ i love youuuuuu alot yr ðŸ¥¹ terko bta ne skti ye baat...");
    }
  }
}

// Start Slide 1 animation
animateHearts(slides[0],'slide1-image');

// Tap anywhere to go next slide
document.body.addEventListener('click', nextSlide);
</script>

</body>
 </html>
